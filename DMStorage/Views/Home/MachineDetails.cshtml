@model DMStorage.Core.ViewModels.MachineViewModel

@{
    ViewData["Title"] = "Machine detail";
    int? departmentId = TempData["DepartmentId"] as int?;
}

<div class="mt-5 container my-border">
    <h2>Detajle Stroju:</h2>

    <div class="row">
        <div class="col-md-2"><strong>Nazev:</strong></div>
        <div class="col-md-9">@Model.Department.Name</div>
    </div>
    <div class="row">
        <div class="col-md-2"><strong>Cislo oddeleni:</strong></div>
        <div class="col-md-9">@Model.Department.Number</div>
    </div>
    <div class="row">
        <div class="col-md-2"><strong>Nazev stroje:</strong></div>
        <div class="col-md-9">@Model.Machine.Name</div>
    </div>
    <div class="row">
        <div class="col-md-2"><strong>MAC:</strong></div>
        <div class="col-md-9">@Model.Machine.MacAdress</div>
    </div>
    <div class="row">
        <div class="col-md-2"><strong>IP:</strong></div>
        <div class="col-md-9">@Model.Machine.Ip</div>
    </div>
    <div class="row">
        <div class="col-md-2"><strong>PLC:</strong></div>
        <div class="col-md-9">@Model.Machine.Original_PLC</div>
    </div>
    <div class="row">
        <div class="col-md-2"><strong>OPC Driver:</strong></div>
        <div class="col-md-9">@Model.Machine.OPC_Driver</div>
    </div>
    <div class="row">
        <div class="col-md-2"><strong>OPC PLC:</strong></div>
        <div class="col-md-9">@Model.Machine.OPC_PLC</div>
    </div>
    <div class="row">
        <div class="col-md-2"><strong>DMCZ Connection:</strong></div>
        <div class="col-md-9">@Model.Machine.DMCZ_Connection</div>
    </div>
    <div class="row">
        <div class="col-md-2"><strong>Port:</strong></div>
        <div class="col-md-9">@Model.Machine.Port</div>
    </div>
    <div class="row">
        <div class="col-md-2"><strong>VLan:</strong></div>
        <div class="col-md-9">@Model.Machine.VLan</div>
    </div>
    <h3 class="mt-3">Promenne stroju:</h3>

    <table class="custom-table table-dark">
        <thead class="thead-dark sticky-top">
            <tr>
                <th scope="col">Nazev</th>
                <th scope="col">Datovy typ</th>
                <th scope="col">Komentar</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Variables.Any())
            {
                @foreach (var variable in Model.Variables)
                {
                    <tr>
                        <td>
                            @variable.Name
                        </td>
                        <td>
                            @variable.DataType
                        </td>
                        <td>
                            @variable.Description
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td class="text-center" colspan="7">
                        <span>Nebyly nalezene zadne promenne k tomu stroji</span>
                    </td>
                </tr>
            }
        </tbody>
    </table>


    <div class="row d-flex justify-content-between align-bottom mr-2 ml-2 mt-5">
        @if (departmentId.HasValue)
        {
            <a style="color: red" href="@Url.Action("Details", "Home", new { type = "department", id = TempData["DepartmentId"] })">Zpet k oddeleni</a>
        }
        <a style="color: red" href="@Url.Action("Lists", "Home")">Zpet k listu</a>
        <a style="color: red" href="@Url.Action("Index", "Home")">Home</a>
    </div>
</div>

